<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz primer mes</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital@0;1&family=Roboto:wght@300&display=swap');

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #F8F8F8;
            font-family: 'Roboto', sans-serif;
            overflow: hidden;
            flex-direction: column;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .card {
            position: relative;
            width: 100%;
            max-width: 600px;
            min-height: 300px; 
            height: auto;
            background-color: #fff0f0;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            overflow: hidden;
        }
        
        #loveVideo {
            max-width: 100%;
            height: 300px;
            border-radius: 10px;
        }
        
        .text-container {
            width: 100%;
            padding: 10px;
            font-family: 'Playfair Display', serif;
            font-size: 1.2em;
            color: #444;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            text-align: center;
            margin-top: 25px;
            display: none; 
        }

        .text-container.visible {
            opacity: 1;
            display: block;
        }

        .text-container p {
            margin: 10px 0;
        }

        .text-container .cursor {
            display: inline-block;
            background-color: #333;
            margin-left: 2px;
            width: 2px;
            animation: blink-caret 0.75s step-end infinite;
        }

        @keyframes blink-caret {
            from, to { background-color: transparent; }
            50% { background-color: #333; }
        }

        .timer-container {
            margin-top: 20px;
            padding: 15px 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            font-size: 1.2em;
            color: #555;
            opacity: 0;
            transition: opacity 1s ease-in;
            text-align: center;
        }

        .timer-container.visible {
            opacity: 1;
        }

        .timer {
            font-weight: bold;
            font-size: 1.5em;
            color: #d81b60;
            margin-top: 5px;
        }

        @media (max-width: 820px) {
            .card {
                padding: 20px;
            }
            .text-container {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    
    <div class="card">
        <video id="loveVideo" src="arbol.mp4" autoplay muted playsinline preload="auto"></video>

        <div class="text-container">
            <p id="line1"></p>
            <p id="line2"></p>
            <p id="line3"></p>
            <p id="line4"></p>
            <p id="line5"></p>
            <p id="line6"></p>
            <p id="line7"></p>
            <p id="line8"></p>
            <p id="line9"></p>
            
        </div>
    </div>

    <div class="timer-container">
        <span>El tiempo desde que nos conocimos...</span>
        <div class="timer">
            <span id="days">0</span> días
            <span id="hours">0</span> horas
            <span id="minutes">0</span> minutos
            <span id="seconds">0</span> segundos
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const video = document.getElementById('loveVideo');
            const textContainer = document.querySelector('.text-container');
            const timerContainer = document.querySelector('.timer-container');

            const poemLines = [
                { el: document.getElementById('line1'), text: "Para el amor de mi vida:" },
                { el: document.getElementById('line2'), text: " La distancia me duele, porque muero por tocar tu pelo, mirar tus ojos, hacerte sonreír y robarte un beso. ." },
                { el: document.getElementById('line3'), text: "Aun sin verte, lo más bonito es que cada día me enamoro más de ti." },
                { el: document.getElementById('line4'), text: " No pienses que por estar lejos voy a fallarte; quien ama de verdad nunca falla." },
                { el: document.getElementById('line5'), text: " Te abrí mi corazón y descubrí que encajas a la perfección con lo que siempre busque." },
                { el: document.getElementById('line6'), text: " Mientras estemos bajo el mismo cielo, tendré la esperanza de verte algún día.." },
                { el: document.getElementById('line7'), text: " Apareciste sin avisar, completaste mi vida y ahora todo tiene sentido." },
                { el: document.getElementById('line8'), text: "Gracias por existir; de no haberte conocido, te habría inventado tal cual eres." },
                { el: document.getElementById('line9'), text: "— ¡Te amo mucho ❤️!" }
            ];

            function typeWriter(element, text, callback) {
                let i = 0;
                element.innerHTML = "";
                const cursor = document.createElement('span');
                cursor.className = 'cursor';
                element.appendChild(cursor);

                function type() {
                    if (i < text.length) {
                        element.insertBefore(document.createTextNode(text.charAt(i)), cursor);
                        i++;
                        setTimeout(type, 80);
                    } else {
                        cursor.remove();
                        if (callback) callback();
                    }
                }
                type();
            }
            
            async function writePoem() {
                textContainer.classList.add('visible');
                for(let i = 0; i < poemLines.length; i++) {
                    await new Promise(resolve => {
                        typeWriter(poemLines[i].el, poemLines[i].text, resolve);
                    });
                }
            }

            function startTimer() {
                timerContainer.classList.add('visible');
                
                // --- CAMBIO REALIZADO AQUÍ ---
                // Se establece la fecha de inicio exacta: 15 de agosto de 2025 a la medianoche.
                const startDate = new Date('2025-08-19T00:00:00');
                // --- FIN DEL CAMBIO ---

                const daysEl = document.getElementById('days');
                const hoursEl = document.getElementById('hours');
                const minutesEl = document.getElementById('minutes');
                const secondsEl = document.getElementById('seconds');

                setInterval(() => {
                    const now = new Date();
                    const diff = now - startDate;

                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((diff % (1000 * 60)) / 1000);

                    daysEl.innerText = days;
                    hoursEl.innerText = String(hours).padStart(2, '0');
                    minutesEl.innerText = String(minutes).padStart(2, '0');
                    secondsEl.innerText = String(seconds).padStart(2, '0');
                }, 1000);
            }

            async function startPoemAnimation() {
                await writePoem();
                await new Promise(r => setTimeout(r, 1000));
                startTimer();
            }

            video.addEventListener('ended', () => {
                startPoemAnimation();
            });

        });
    </script>

</body>
</html>